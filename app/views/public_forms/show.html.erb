<!DOCTYPE html>
<html>
<head>
  <title>Ficha de Anamnese - Albrea</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <%= stylesheet_link_tag "tailwind", "data-turbo-track": "reload" %>
</head>

<body class="bg-gray-100">

<div class="min-h-screen flex items-start justify-center px-4 py-8">
  <div class="w-full max-w-lg bg-white rounded-2xl shadow-lg p-6 space-y-8">

    <!-- BOAS VINDAS -->
    <div class="text-center space-y-2">
      <h1 class="text-xl font-semibold">Bem-vindo(a) üíõ</h1>
      <p class="text-sm text-gray-500">
        √â um prazer cuidar de voc√™. Responda rapidamente as perguntas abaixo.
      </p>
    </div>

    <%= form_with url: public_form_path(@link.token), method: :post, class: "space-y-8" do %>

      <!-- HIST√ìRICO -->
      <div class="space-y-6">

        <h2 class="text-base font-semibold border-b pb-2">Hist√≥rico de Sa√∫de</h2>

        <div>
          <label class="block font-medium mb-2">Faz uso de medica√ß√£o cont√≠nua?</label>
          <div class="flex gap-6">
            <label><%= radio_button_tag "answers[medication_continuous]", "Sim" %> Sim</label>
            <label><%= radio_button_tag "answers[medication_continuous]", "N√£o" %> N√£o</label>
          </div>
          <%= text_field_tag "answers[medications]", nil, placeholder: "Quais medicamentos?",
            class: "mt-3 w-full border rounded-xl px-4 py-2" %>
        </div>

        <div>
          <label class="block font-medium mb-2">Possui alergia?</label>
          <div class="flex gap-6">
            <label><%= radio_button_tag "answers[allergy]", "Sim" %> Sim</label>
            <label><%= radio_button_tag "answers[allergy]", "N√£o" %> N√£o</label>
          </div>
          <%= text_field_tag "answers[allergy_details]", nil, placeholder: "Qual alergia?",
            class: "mt-3 w-full border rounded-xl px-4 py-2" %>
        </div>

        <div>
          <label class="block font-medium mb-2">Possui alguma doen√ßa de pele?</label>
          <div class="flex gap-6">
            <label><%= radio_button_tag "answers[skin_disease]", "Sim" %> Sim</label>
            <label><%= radio_button_tag "answers[skin_disease]", "N√£o" %> N√£o</label>
          </div>
          <%= text_field_tag "answers[skin_disease_details]", nil, placeholder: "Qual doen√ßa?",
            class: "mt-3 w-full border rounded-xl px-4 py-2" %>
        </div>

        <div>
          <label class="block font-medium mb-2">Gestante ou lactante?</label>
          <div class="flex gap-6">
            <label><%= radio_button_tag "answers[pregnant_or_lactating]", "Sim" %> Sim</label>
            <label><%= radio_button_tag "answers[pregnant_or_lactating]", "N√£o" %> N√£o</label>
          </div>
        </div>

        <div>
          <label class="block font-medium mb-2">Realizou procedimento est√©tico recente?</label>
          <div class="flex gap-6">
            <label><%= radio_button_tag "answers[recent_procedure]", "Sim" %> Sim</label>
            <label><%= radio_button_tag "answers[recent_procedure]", "N√£o" %> N√£o</label>
          </div>
          <%= text_field_tag "answers[recent_procedure_details]", nil, placeholder: "Qual procedimento / Quando?",
            class: "mt-3 w-full border rounded-xl px-4 py-2" %>
        </div>

      </div>

      <!-- H√ÅBITOS -->
      <div class="space-y-6">
        <h2 class="text-base font-semibold border-b pb-2">H√°bitos</h2>

        <div>
          <label class="block font-medium mb-2">Higieniza a pele diariamente?</label>
          <div class="flex gap-6">
            <label><%= radio_button_tag "answers[daily_cleansing]", "Sim" %> Sim</label>
            <label><%= radio_button_tag "answers[daily_cleansing]", "N√£o" %> N√£o</label>
          </div>
        </div>

        <div>
          <label class="block font-medium mb-2">Usa protetor solar?</label>
          <div class="flex gap-6">
            <label><%= radio_button_tag "answers[sunscreen_use]", "Sim" %> Sim</label>
            <label><%= radio_button_tag "answers[sunscreen_use]", "N√£o" %> N√£o</label>
          </div>
        </div>

        <div>
          <label class="block font-medium mb-2">Frequ√™ncia do protetor solar</label>
          <%= select_tag "answers[sunscreen_frequency]",
            options_for_select(["Diariamente","√Äs vezes","Somente quando exposto"]),
            class: "w-full border rounded-xl px-4 py-2" %>
        </div>

        <div>
          <label class="block font-medium mb-2">Produtos usados no rosto</label>
          <%= text_field_tag "answers[products_used_daily]", nil,
            class: "w-full border rounded-xl px-4 py-2" %>
        </div>

        <div>
          <label class="block font-medium mb-2">Exposi√ß√£o solar sem prote√ß√£o?</label>
          <div class="flex gap-6">
            <label><%= radio_button_tag "answers[sun_exposure_no_protection]", "Sim" %> Sim</label>
            <label><%= radio_button_tag "answers[sun_exposure_no_protection]", "N√£o" %> N√£o</label>
          </div>
        </div>
      </div>

      <!-- AVALIA√á√ÉO -->
      <div class="space-y-6">
        <h2 class="text-base font-semibold border-b pb-2">Avalia√ß√£o da Pele</h2>

        <div>
          <label class="block font-medium mb-2">Tipo de pele</label>
          <%= select_tag "answers[skin_type]",
            options_for_select(["Normal","Seca","Oleosa","Mista","Sens√≠vel"]),
            class: "w-full border rounded-xl px-4 py-2" %>
        </div>

        <div>
          <label class="block font-medium mb-3">Queixa principal</label>
          <div class="grid grid-cols-2 gap-3 text-sm">
            <label><%= check_box_tag "answers[main_complaints][]", "Acne" %> Acne</label>
            <label><%= check_box_tag "answers[main_complaints][]", "Cravos" %> Cravos</label>
            <label><%= check_box_tag "answers[main_complaints][]", "Manchas" %> Manchas</label>
            <label><%= check_box_tag "answers[main_complaints][]", "Oleosidade excessiva" %> Oleosidade excessiva</label>
            <label><%= check_box_tag "answers[main_complaints][]", "Ressecamento" %> Ressecamento</label>
          </div>
        </div>

        <div>
          <label class="block font-medium mb-2">Sensibilidade a cosm√©ticos?</label>
          <div class="flex gap-6">
            <label><%= radio_button_tag "answers[sensitivity]", "Sim" %> Sim</label>
            <label><%= radio_button_tag "answers[sensitivity]", "N√£o" %> N√£o</label>
          </div>
        </div>
      </div>

      <!-- DADOS FINAIS -->
      <div class="space-y-4 pt-4 border-t">

        <div>
          <label class="block text-sm font-medium mb-1">Seu Nome</label>
          <%= text_field_tag :name, nil,
            class: "w-full border rounded-xl px-4 py-2" %>
        </div>

        <div>
          <label class="block text-sm font-medium mb-1">CPF</label>
          <%= text_field_tag :cpf, nil,
            class: "w-full border rounded-xl px-4 py-2" %>
        </div>

        <div>
          <label class="block text-sm font-medium mb-1">Telefone</label>
          <%= text_field_tag :phone, nil,
            class: "w-full border rounded-xl px-4 py-2" %>
        </div>

      </div>

      <div class="pt-4">
        <%= submit_tag "Enviar Informa√ß√µes",
          class: "w-full bg-black text-white py-3 rounded-xl text-sm font-medium hover:bg-gray-800 transition" %>
      </div>

    <% end %>

  </div>
</div>

</body>
</html>